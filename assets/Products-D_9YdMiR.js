import{r as l,j as t}from"./index-CGheJ50T.js";import{P as y}from"./Rating-B_9m-f0I.js";import{P as N}from"./ProductCard-dNSz0pf9.js";function M(){const i=()=>{if(typeof window>"u")return 3;const r=window.innerWidth;return r>=1024?3:r>=768?2:1},[d,p]=l.useState(i);return l.useEffect(()=>{const r=window.matchMedia("(min-width: 1024px)"),m=window.matchMedia("(min-width: 768px)"),c=()=>p(r.matches?3:m.matches?2:1);return c(),r.addEventListener?.("change",c),m.addEventListener?.("change",c),()=>{r.removeEventListener?.("change",c),m.removeEventListener?.("change",c)}},[]),d}function L(){const i=l.useRef(null),[d,p]=l.useState(""),[r,m]=l.useState("All"),c=l.useMemo(()=>["All",...Array.from(new Set(y.map(e=>e.category)))],[]),u=l.useMemo(()=>{const e=d.trim().toLowerCase();return y.filter(n=>{const s=r==="All"||n.category===r,g=!e||n.title.toLowerCase().includes(e);return s&&g})},[d,r]),x=M()*4,[a,w]=l.useState(1),b=(e=!0)=>{i.current?i.current.scrollIntoView({behavior:e?"smooth":"auto",block:"start"}):window.scrollTo({top:0,behavior:e?"smooth":"auto"})},h=e=>{w(e),b(!0)};l.useEffect(()=>{const e=Math.max(1,Math.ceil(u.length/x));w(n=>{const s=Math.min(Math.max(1,n),e);return s!==n&&setTimeout(()=>b(!1),0),s})},[u.length,x]);const o=Math.max(1,Math.ceil(u.length/x)),j=(a-1)*x,f=u.slice(j,j+x),v=()=>{const e=[],n=(s,g=s)=>e.push(t.jsx("button",{onClick:()=>h(s),className:["h-9 min-w-9 px-3 rounded-lg text-sm border",s===a?"bg-black text-white border-black":"bg-white hover:bg-gray-50"].join(" "),children:g},`p-${g}`));if(o<=7){for(let s=1;s<=o;s++)n(s);return e}n(1),a>3&&e.push(t.jsx("span",{className:"px-1",children:"…"},"l-ell"));for(let s=Math.max(2,a-1);s<=Math.min(o-1,a+1);s++)n(s);return a<o-2&&e.push(t.jsx("span",{className:"px-1",children:"…"},"r-ell")),n(o),e};return t.jsxs("section",{ref:i,className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-10 space-y-6",children:[t.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[t.jsx("h1",{className:"text-xl sm:text-2xl font-semibold",children:"Ürünler"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("select",{value:r,onChange:e=>{m(e.target.value),h(1)},className:"rounded-xl border px-3 py-2 text-sm bg-white",children:c.map(e=>t.jsx("option",{value:e,children:e},e))}),t.jsx("input",{className:"rounded-xl border px-3 py-2 text-sm bg-white w-full sm:w-64",placeholder:"Ara...",value:d,onChange:e=>{p(e.target.value),h(1)}})]})]}),t.jsxs("div",{className:"text-sm text-gray-600",children:[u.length," ürün • Sayfa ",a,"/",o," • Bu sayfada ",f.length," ürün"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[f.map(e=>t.jsx(N,{product:e},`${e.id}-${e.size||""}`)),f.length===0&&t.jsx("div",{className:"col-span-full text-gray-500",children:"Bu sayfada ürün yok."})]}),t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t.jsx("button",{onClick:()=>h(Math.max(1,a-1)),disabled:a===1,className:["h-9 px-3 rounded-lg text-sm border",a===1?"opacity-50 cursor-not-allowed":"bg-white hover:bg-gray-50"].join(" "),children:"Prev"}),t.jsx(v,{}),t.jsx("button",{onClick:()=>h(Math.min(o,a+1)),disabled:a===o,className:["h-9 px-3 rounded-lg text-sm border",a===o?"opacity-50 cursor-not-allowed":"bg-white hover:bg-gray-50"].join(" "),children:"Next"})]}),t.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Sayfa başına ürün: mobil 4, tablet 8, masaüstü 12 (en fazla 3 sütun × 4 satır)."})]})}export{L as default};
