import{r as l,j as e,a as k,b as S,c as w,L as C,f as h}from"./index-DdGN5HOI.js";import{Q as L}from"./QuantityInput-DAikkP0w.js";import{P as v}from"./Rating-KaZV3_p4.js";import{P as M}from"./ProductCard-BECB3Zf3.js";function z(){const[c,f]=l.useState(""),[n,b]=l.useState("All"),[i,d]=l.useState(!1);l.useMemo(()=>["All",...Array.from(new Set(v.map(s=>s.category)))],[]);const m=l.useMemo(()=>v.filter(s=>{const t=n==="All"||s.category===n,o=s.title.toLowerCase().includes(c.toLowerCase());return t&&o}),[c,n]),r=l.useRef(null),a=l.useRef(!1),u=l.useRef(0),g=l.useRef(0),x=(s=1)=>{const t=r.current;t&&t.scrollBy({left:s*t.clientWidth,behavior:"smooth"})},j=s=>{const t=r.current;t&&(a.current=!0,d(!0),u.current=s.clientX??(s.touches&&s.touches[0]?.clientX)??0,g.current=t.scrollLeft)},y=s=>{const t=r.current;if(!t||!a.current)return;const N=(s.clientX??(s.touches&&s.touches[0]?.clientX)??0)-u.current;t.scrollLeft=g.current-N},p=()=>{a.current=!1,d(!1)};return l.useEffect(()=>{const s=r.current;if(!s)return;const t=o=>{o.key==="ArrowRight"&&(o.preventDefault(),x(1)),o.key==="ArrowLeft"&&(o.preventDefault(),x(-1))};return s.addEventListener("keydown",t),()=>s.removeEventListener("keydown",t)},[]),e.jsxs("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-10 space-y-6",children:[e.jsx("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:e.jsx("h1",{className:"text-xl sm:text-2xl font-semibold",children:"Önerilen Ürünler"})}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{type:"button",onClick:()=>x(-1),"aria-label":"Önceki",className:`hidden md:flex absolute left-0 top-1/2 -translate-y-1/2 z-20
                     h-10 w-10 rounded-full border bg-white/90 backdrop-blur
                     items-center justify-center hover:bg-white`,children:"‹"}),e.jsx("div",{className:"pointer-events-none hidden lg:block absolute left-0 top-0 h-full w-16 z-10 bg-gradient-to-r from-white to-transparent"}),e.jsx("div",{className:"pointer-events-none hidden lg:block absolute right-0 top-0 h-full w-16 z-10 bg-gradient-to-l from-white to-transparent"}),e.jsxs("div",{ref:r,tabIndex:0,role:"region","aria-label":"Ürün carousel",className:["flex gap-4 sm:gap-6 overflow-x-auto snap-x snap-mandatory scroll-px-4 pb-2 pt-1","focus:outline-none","select-none",i?"cursor-grabbing":"cursor-grab","[-webkit-overflow-scrolling:touch]"].join(" "),onMouseDown:j,onMouseMove:y,onMouseLeave:p,onMouseUp:p,onTouchStart:j,onTouchMove:y,onTouchEnd:p,children:[m.map(s=>e.jsx("div",{className:"snap-start shrink-0 w-[86%] xs:w-[80%] sm:w-[60%] md:w-1/2 lg:w-1/3",children:e.jsx(M,{product:s})},s.id)),m.length===0&&e.jsx("div",{className:"min-h-[8rem] flex items-center text-gray-500",children:"Sonuç bulunamadı."})]}),e.jsx("button",{type:"button",onClick:()=>x(1),"aria-label":"Sonraki",className:`hidden md:flex absolute right-0 top-1/2 -translate-y-1/2 z-20
                     h-10 w-10 rounded-full border bg-white/90 backdrop-blur
                     items-center justify-center hover:bg-white`,children:"›"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Mobilde kartları sürükleyerek kaydırabilirsin. Klavyede ← → ile de gezinebilirsin."})]})}function T(){const{items:c,updateQty:f,summary:n}=k(),b=S(),i=n.subtotal>750?0:49.9,d=l.useMemo(()=>n.subtotal+i,[n.subtotal,i]),m=w(n.subtotal,450),r=w(d,450);return c.length?e.jsxs("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 md:py-10",children:[e.jsx("div",{className:"mb-4 md:mb-6",children:e.jsx("h1",{className:"text-xl md:text-2xl font-semibold",children:"Sepet"})}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[e.jsx("div",{className:"lg:col-span-2 space-y-4",children:c.map(a=>e.jsxs("div",{className:"rounded-2xl border bg-white p-3 sm:p-4 flex items-center gap-3 sm:gap-4",children:[e.jsx("div",{className:"shrink-0",children:e.jsx("img",{src:a.image,alt:a.title,className:"w-20 h-20 sm:w-24 sm:h-24 object-cover rounded-xl"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("div",{className:"font-medium line-clamp-2",children:a.title}),e.jsx("div",{className:"text-sm text-gray-600 mt-0.5",children:h(a.price)})]}),e.jsx("div",{className:"ml-auto",children:e.jsx(L,{value:a.qty,min:0,onChange:u=>f(a.id,u)})})]},a.id))}),e.jsxs("aside",{className:"rounded-2xl border bg-white p-5 h-fit lg:sticky lg:top-20",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Sipariş Özeti"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Ara Toplam"}),e.jsx("span",{className:"tabular-nums",children:h(m)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Kargo"}),e.jsx("span",{className:"tabular-nums",children:i===0?"Ücretsiz":h(i)})]})]}),e.jsx("hr",{className:"my-4"}),e.jsxs("div",{className:"flex justify-between items-baseline",children:[e.jsx("span",{className:"font-semibold",children:"Toplam"}),e.jsx("span",{className:"tabular-nums text-lg font-semibold",children:h(r)})]}),e.jsx("button",{className:"w-full mt-4 px-4 py-2 rounded-xl bg-black text-white",onClick:()=>b("/checkout"),children:"Ödemeye Geç"}),e.jsx("p",{className:"text-xs text-gray-500 mt-3",children:"₺750 üzeri siparişlerde kargo ücretsiz."})]})]})]}):e.jsxs("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("p",{className:"text-gray-600",children:"Sepetiniz boş."}),e.jsx(C,{to:"/products",className:"inline-flex px-4 py-2 rounded-xl bg-black text-white",children:"Alışverişe Dön"})]}),e.jsx(z,{})]})}export{T as default};
