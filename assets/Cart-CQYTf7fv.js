import{r as n,j as e,a as N,b as v,c as g,L as k,f as d}from"./index-t-GJcaw1.js";import{P as y}from"./Rating-DpySXPmJ.js";import{P as C}from"./ProductCard-CsQIB6IQ.js";import{Q as M}from"./QuantityInput-D7YvRFN4.js";function P(){const[l,h]=n.useState(""),[r,p]=n.useState("All");n.useMemo(()=>["All",...Array.from(new Set(y.map(s=>s.category)))],[]);const c=n.useMemo(()=>y.filter(s=>{const t=r==="All"||s.category===r,j=s.title.toLowerCase().includes(l.toLowerCase());return t&&j}),[l,r]),o=n.useRef(null),i=n.useRef(!1),m=n.useRef(0),a=n.useRef(0),u=(s=1)=>{const t=o.current;t&&t.scrollBy({left:s*t.clientWidth,behavior:"smooth"})},f=s=>{const t=o.current;t&&(i.current=!0,m.current=s.clientX??s.touches?.[0]?.clientX??0,a.current=t.scrollLeft)},b=s=>{const t=o.current;if(!t||!i.current)return;const w=((s.clientX??s.touches?.[0]?.clientX??0)-m.current)*1;t.scrollLeft=a.current-w},x=()=>{i.current=!1};return e.jsxs("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 space-y-6",children:[e.jsx("div",{className:"flex flex-col md:flex-row md:items-center gap-3 justify-between",children:e.jsx("h1",{className:"text-2xl font-semibold",children:"Önerilen Ürünler"})}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>u(-1),"aria-label":"Önceki",className:`hidden md:flex absolute left-0 top-1/2 -translate-y-1/2 z-10
                     h-10 w-10 rounded-full border bg-white shadow-sm
                     items-center justify-center hover:bg-gray-50`,children:"‹"}),e.jsx("div",{ref:o,className:`flex gap-6 overflow-x-auto snap-x snap-mandatory scroll-p-4
                     pb-2 pt-1`,onMouseDown:f,onMouseMove:b,onMouseLeave:x,onMouseUp:x,onTouchStart:f,onTouchMove:b,onTouchEnd:x,children:c.map(s=>e.jsx("div",{className:"snap-start shrink-0 w-[85%] sm:w-[60%] md:w-1/2 lg:w-1/3",children:e.jsx(C,{product:s})},s.id))}),e.jsx("button",{onClick:()=>u(1),"aria-label":"Sonraki",className:`hidden md:flex absolute right-0 top-1/2 -translate-y-1/2 z-10
                     h-10 w-10 rounded-full border bg-white shadow-sm
                     items-center justify-center hover:bg-gray-50`,children:"›"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Mobilde kartları sürükleyerek kaydırabilirsin."})]})}function R(){const{items:l,updateQty:h,summary:r}=N(),p=v(),c=r.subtotal>750?0:49.9,o=n.useMemo(()=>r.subtotal+c,[r.subtotal,c]),i=g(r.subtotal,450),m=g(o,450);return e.jsxs("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 grid lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[l.length===0?e.jsxs("div",{className:"text-center space-y-4 py-16 col-span-2",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"Sepetiniz boş."}),e.jsx(k,{to:"/products",className:"px-4 py-2 mt-4 rounded-xl bg-black text-white",children:"Alışverişe Dön"})]}):l.map(a=>e.jsxs("div",{className:"rounded-2xl border p-4 bg-white flex items-center gap-4",children:[e.jsx("img",{src:a.image,alt:a.title,className:"w-24 h-24 object-cover rounded-xl"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium line-clamp-1",children:a.title}),e.jsx("div",{className:"text-sm text-gray-600",children:d(a.price)})]}),e.jsx(M,{value:a.qty,min:0,onChange:u=>h(a.id,u)})]},a.id)),e.jsx(P,{})]}),e.jsxs("aside",{className:"rounded-2xl border p-6 h-fit bg-white",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Sipariş Özeti"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Ara Toplam"}),e.jsx("span",{className:"tabular-nums",children:d(i)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Kargo"}),e.jsx("span",{children:l.length===0?"—":c===0?"Ücretsiz":d(c)})]})]}),e.jsx("hr",{className:"my-4"}),e.jsxs("div",{className:"flex justify-between font-semibold",children:[e.jsx("span",{children:"Toplam"}),l.length===0?d(i):e.jsx("span",{className:"tabular-nums",children:d(m)})]}),l.length>0&&e.jsx("button",{className:"w-full mt-4 px-4 py-2 rounded-xl bg-black text-white",onClick:()=>p("/checkout"),children:"Ödemeye Geç"})]})]})}export{R as default};
